CREATE TABLE postings
(
id INTEGER PRIMARY KEY AUTOINCREMENT,
date_posted DATETIME NOT NULL,
title VARCHAR(255) NOT NULL,
price VARCHAR(255) DEFAULT NULL,
location VARCHAR(255) NOT NULL,
url VARCHAR(255) UNIQUE NOT NULL,
created_at DATETIME NOT NULL,
updated_at DATETIME NOT NULL
);

CREATE TABLE search_result_postings
(
id INTEGER PRIMARY KEY AUTOINCREMENT,
posting_id INTEGER,
search_result_id INTEGER
);


CREATE TABLE search_results
(
id INTEGER PRIMARY KEY AUTOINCREMENT,
search_query VARCHAR(255) NOT NULL,
search_url VARCHAR(255) NOT NULL,
scraped_at DATETIME NOT NULL,
created_at DATETIME NOT NULL,
updated_at DATETIME NOT NULL,
user_id INTEGER
);

CREATE TABLE users
(
id INTEGER PRIMARY KEY AUTOINCREMENT,
email VARCHAR(255) NOT NULL,
emailed_at DATETIME DEFAULT NULL,
created_at DATETIME NOT NULL,
updated_at DATETIME NOT NULL
);